; Fichier php.ini personnalisé pour GestionMySoutenance (environnement Docker)

[PHP]
; === Gestion des Erreurs (Adapté pour le développement, à revoir pour la prod) ===
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
log_errors = On
error_log = /var/www/html/var/log/php_errors.log

; === Fuseau Horaire ===
date.timezone = Europe/Paris

; === Limites de Ressources ===
memory_limit = 256M
max_execution_time = 60
max_input_time = 60
upload_max_filesize = 50M
post_max_size = 55M

; === Sessions ===
; session.save_handler = files ; Commenté car géré par session_set_save_handler()
; session.save_path = "/var/lib/php/sessions" ; Commenté car géré par session_set_save_handler()
session.use_strict_mode = 1
session.cookie_httponly = 1
session.cookie_secure = 0
session.cookie_samesite = "Lax"
session.gc_probability = 1
session.gc_divisor = 1000
session.gc_maxlifetime = 3600 ; Correction: Aligné avec SESSION_LIFETIME du .env (1 heure)

; === Sécurité ===
expose_php = Off
allow_url_fopen = On
allow_url_include = Off

; === Opcache (Fortement recommandé pour la performance) ===
opcache.enable=1
opcache.enable_cli=1
opcache.memory_consumption=128
opcache.interned_strings_buffer=8
opcache.max_accelerated_files=10000
opcache.revalidate_freq=2
opcache.fast_shutdown=1

; === Extensions ===
; Pas besoin de les redéclarer ici si elles sont compilées/installées via docker-php-ext-install

; === Divers ===
default_charset = "UTF-8"